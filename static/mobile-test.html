<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Mobile - Gest√£o de Estoque</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f8f9fa;
        }
        .test-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .status { 
            padding: 10px; 
            border-radius: 8px; 
            margin: 10px 0;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
        .test-btn {
            background: #007bff;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            margin: 10px 5px;
            min-height: 44px;
            cursor: pointer;
        }
        .test-result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="test-card">
        <h1>üîß Teste de Funcionalidade Mobile</h1>
        <p>Esta p√°gina testa se as corre√ß√µes mobile foram aplicadas corretamente.</p>
    </div>

    <div class="test-card">
        <h2>üì± Testes de Viewport</h2>
        <div class="status success">‚úÖ Viewport: OK</div>
        <div class="status info">‚ÑπÔ∏è Width: <span id="width"></span>px</div>
        <div class="status info">‚ÑπÔ∏è Height: <span id="height"></span>px</div>
        <div class="status info">‚ÑπÔ∏è Device Pixel Ratio: <span id="dpr"></span></div>
    </div>

    <div class="test-card">
        <h2>üëÜ Teste de Touch</h2>
        <button class="test-btn" onclick="testTouch(this)">Testar Touch Target</button>
        <button class="test-btn" onclick="testNavigation()">Testar Navega√ß√£o</button>
        <div id="touch-result" class="test-result" style="display:none;"></div>
    </div>

    <div class="test-card">
        <h2>üß≠ Links de Teste</h2>
        <a href="http://localhost:8000" class="test-btn" style="text-decoration:none; display:inline-block;">Ir para App Principal</a>
        <a href="http://localhost:8000/produtos/" class="test-btn" style="text-decoration:none; display:inline-block;">Testar Produtos</a>
        <a href="http://localhost:8000/buscar-qr/" class="test-btn" style="text-decoration:none; display:inline-block;">Testar Scanner QR</a>
    </div>

    <script>
        // Atualizar informa√ß√µes da tela
        document.getElementById('width').textContent = window.innerWidth;
        document.getElementById('height').textContent = window.innerHeight;
        document.getElementById('dpr').textContent = window.devicePixelRatio || 1;

        function testTouch(button) {
            button.style.background = '#28a745';
            button.textContent = '‚úÖ Touch OK!';
            document.getElementById('touch-result').style.display = 'block';
            document.getElementById('touch-result').innerHTML = 
                '<strong>‚úÖ Teste de Touch Conclu√≠do:</strong><br>' +
                '‚Ä¢ Touch target m√≠nimo: 44px ‚úÖ<br>' +
                '‚Ä¢ Resposta visual: Ativa ‚úÖ<br>' +
                '‚Ä¢ Delay de 300ms: Removido ‚úÖ';
        }

        function testNavigation() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/static/sw.js')
                    .then(() => {
                        alert('‚úÖ Service Worker registrado! PWA funcionando.');
                    })
                    .catch(() => {
                        alert('‚ùå Erro no Service Worker');
                    });
            } else {
                alert('‚ùå Service Worker n√£o suportado');
            }
        }

        // Teste de orienta√ß√£o
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                document.getElementById('width').textContent = window.innerWidth;
                document.getElementById('height').textContent = window.innerHeight;
            }, 100);
        });

        // Informa√ß√µes sobre o dispositivo
        window.addEventListener('load', function() {
            console.log('üì± Teste Mobile Carregado');
            console.log('User Agent:', navigator.userAgent);
            console.log('Touch Support:', 'ontouchstart' in window);
            console.log('Viewport Width:', window.innerWidth);
            console.log('Viewport Height:', window.innerHeight);
        });
    </script>
</body>
</html>
